ccbytecode 2

.extern printf params=(ptr) returns=i32 varargs
.extern exit params=(i32) returns=void
.no-return exit
.extern malloc params=(i32) returns=ptr

.func main ret=i32 params=0 locals=3
.locals ptr i32 u8
  const i32 5
  call malloc ptr (i32)
  store_local 0
  load_local 0
  const i32 5
  store_local 1
  load_local 1
  store_indirect i32
  load_local 0
  convert bitcast ptr i64
  const i64 4
  binop add i64
  convert bitcast i64 ptr
  const u8 10
  store_local 2
  load_local 2
  store_indirect u8
  const_str "MinicCB works! %d\n"
  load_local 0
  convert bitcast ptr i64
  const i64 4
  binop add i64
  convert bitcast i64 ptr
  load_indirect u8
  convert zext u8 i32
  load_local 0
  load_indirect i32
  binop mul i32
  call printf i32 (ptr,i32)
  drop i32
  call testexit void ()
  const i32 0
  ret
.endfunc
.func testexit ret=void params=0 locals=1
.locals i32
  const i32 123
  store_local 0
  load_local 0
  call testexit2 void (i32)
  ret void
.endfunc
.no-return testexit
.func testexit2 ret=void params=1 locals=0
.params i32
  load_param 0
  call exit void (i32)
  ret void
.endfunc
.no-return testexit2
